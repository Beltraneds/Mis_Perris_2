<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis Perris</title>
    <link rel="stylesheet" href="css/estilos.css">
    <link rel="stylesheet" href="css/formulario.css">
    <script src="js/sweetalert2.all.min.js"></script>
</head>

<body>
    <!--cabecera de la pagina-->
    <header>
        <!--contenedor que almacena el titulo MIS PERRIS y el menu-->
        <div class="contenedor">
            <h1 class="icon-guidedog">Mis Perris</h1>
            <!--Control que permite visualizar el menu lateral (MOVIL)-->
            <input type="checkbox" name="" id="menu-bar">
            <label class="icon-th-list" for="menu-bar"></label>
            <!--Menu-->
            <nav class="menu">
                <a href="index.html">Inicio</a>
                <a href="galeria.html">Galería</a>
                <a href="formulario.html">Formulario</a>
                <a href="">Quienes Somos</a>
            </nav>
        </div>
    </header>

    <!--sector del main(contenido de la pagina)-->
    <main>
        <!--banner superior con imagen del perro y texto flotando sobre ella-->
        <section id="banner">
            <img src="img/perro1.jpg" alt="">
            <div class="contenedor">
                <h2>Mascotas felices en Mis Perris</h2>
                <p>Cuál es la mejor mascota para usted</p>
                <a href="">Leer Más</a>
            </div>
        </section>

        <!--Sector de bienvenida-->
        <section id="bienvenida">
            <h2>Formulario de inscripción para adopción</h2>
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Officiis beatae ipsum voluptatibus fugit
                quisquam quod fuga, at ea corrupti voluptatum reiciendis, aperiam aliquam, deserunt id odio? Iusto illum
                eum saepe?</p>
        </section>

        <!--seccion del formulario-->
        <section id="formulario">
            <form class="form-registro" action="" method="post" onsubmit="return validarFormulario()">
                <h2 class="form-titulo">Creación cuenta de usuario</h2>
                <div class="contenedor-input">
                    <input class="col-sm" type="text" name="txtRut" id="txtRut" placeholder="Ingrese rut" required minlength="9" maxlength="10">
                    <input class="col-sm" type="text" name="txtNombreCompleto" id="txtNombreCompleto"
                        placeholder="Ingrese nombre y apellido" required minlength="5">
                    <input class="col-sm" type="date" name="txtFechaNaci" id="txtFechaNaci" required>
                    <input class="col-sm" type="email" name="txtEmail" id="" placeholder="Ingrese email" required minlength="8">
                    <input class="col-sm" type="text" name="txtUsuario" id="" placeholder="Ingrese usuario" required minlength="8" maxlength="12">
                    <input class="col-sm" type="password" name="txtPass" id="" placeholder="Ingrese contraseña" required minlength="5" maxlength="10">
                    <input class="col-xl" type="text" name="txtFono" id="" placeholder="Ingrese teléfono">

                    <input class="btn-registro" type="submit" value="Registrar">
                    <input type="button" value="Grabar" onclick="grabar()">
                    <input type="button" value="Listar" onclick="listar()">
                    
                </div>
            </form>
        </section>
        <script src="js/usuario.js"></script>
        <script>
            var arreglo = new Array();
            var index = 0;

            function grabar() {
                var rut = document.getElementById('txtRut').value;
                var nombre = document.getElementById('txtNombreCompleto').value;
                var fecha = document.getElementById('txtFechaNaci').value;
                usu = new usuario();
                usu.setRut(rut);
                usu.setNombre(nombre);
                usu.setFecha(fecha);
                alert(usu.imprimir());
                arreglo[index] = JSON.stringify(usu);
                localStorage.setItem('registro',arreglo);
                index++;
                alert('Grabó');
            }
            function listar() {
                var tabla = "<table border=1>";
                    tabla = tabla + "<tr> <td>Rut</td> <td>Nombre</td> <td>Fecha</td> </tr>";
                    var datos = localStorage.getItem('registro');
                    var arreglo_temporal = new Array();
                    datos = datos.split("},{").join("};{"); //reemplazar , por ;
                    arreglo_temporal = datos.split(";");
                    for (let index = 0; index < arreglo_temporal.length; index++) {
                        var reg = arreglo_temporal[index];
                        var usu = JSON.parse(reg);
                        tabla = tabla+"<tr> <td>"+usu.rut+"</td> <td>"+usu.nombre+"</td> <td>"+usu.fecha+"</td> </tr>";
                    }
                    tabla = tabla+"</table>";
                    document.getElementById('listado').innerHTML=tabla;
            }
        </script>

    </main>
    <div id="listado">
        
    </div>
    <!--sector del pie de página-->
    <footer>
        <div class="contenedor">
            <p>Mis Perris - Desarrollo Web</p>
        </div>
    </footer>

    <script src="js/scripts.js"></script>
    <script src="dist/js/lightbox-plus-jquery.js"></script>
</body>

</html>